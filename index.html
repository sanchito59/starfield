<!DOCTYPE html>
<html>

<head>
  <script type="text/javascript" src="js/paperjs/dist/paper-full.js"></script>
  <link rel="stylesheet" href="css/styles.css">
  <!-- Load the Paper.js library -->
  <script type="text/javascript" src="js/paper.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.1.2/howler.js"></script>
  <!-- Define inlined PaperScript associate it with myCanvas -->
  <!-- CHANGE BELOW BACK TO text/paperscript when done! -->
  <script type="text/paperscript" canvas="myCanvas">
    var starCount = 100;
    stars = new Path.Circle({
      center: view.center,
      radius: 10,
      fillColor: 'white',
    })
    var starSymbol = new Symbol(stars)
    
    for (var i = 0; i < starCount; i++) {
      var center = Point.random() * view.size;
      var placedSymbol = starSymbol.place(center);
      placedSymbol.scale(i / starCount);
    }
    var brushStrokes = [];
    function onMouseDrag(event) {
      var angledStroke = new Path();
      angledStroke.strokeColor = Color.random();
      angledStroke.strokeWidth = 15;
      angledStroke.strokeCap = 'round';
      var vector = event.delta;
      
      vector.angle += 45;
      vector.length = 10;
      
      angledStroke.add(event.middlePoint + vector);
      angledStroke.add(event.middlePoint - vector);
      brushStrokes.push(angledStroke);
    }
    function onFrame(event) {
      for(var i = 0; i < brushStrokes.length; i++){
        brushStrokes[i].scale(3);
      }
      
      for (var i = 0; i < starCount; i++) {
        var item = project.activeLayer.children[i];
        // Move the item 1/5th of its height to the bottom. This way larger circles move faster than smaller circles:
        item.position.y += item.bounds.height / 5;
        // If the item has left the view on the bottom, move it back to the top:
        if (item.bounds.bottom > view.size.height) {
          item.position.y = -item.bounds.height;
        }
      }
    }
  </script>
</head>

<body>
  <canvas id="myCanvas" resize></canvas>
</body>

</html>